<!--END-->
<!--END--><!DOCTYPE html><!--[if IE 7]>
<html class="ie7" lang="ru">
<![endif]-->
<!--[if IE 8]>
<html class="ie8" lang="ru">
<![endif]-->
<!--[if IE 9]>
<html class="ie9" lang="ru">
<![endif]-->
<!--[if gt IE 9]><!-->
<html lang="ru" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<!--<![endif]-->
<head>
    <title>Main</title>
    <meta name="description" content="Описание страницы">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
    <!--meta( http-equiv="cache-control" content="no-cache")-->
    <!--meta( http-equiv="expires" content="0")-->
    <!--link(rel="preload" href="assets/css/extra.min.css?v=" + version as="style" crossorigin="anonymous")-->
    <link href="favicon.ico" rel="shortcut icon">
    <link rel="preload" href="/assets/fonts/Montserrat/Montserrat-SemiBold.woff2" as="font" crossorigin="anonymous">
    <link rel="preload" href="/assets/fonts/Montserrat/Montserrat-Light.woff2" as="font" crossorigin="anonymous">
    <link rel="preload" href="/assets/fonts/Montserrat/Montserrat-Medium.woff2" as="font" crossorigin="anonymous">
    <link rel="preload" href="/assets/fonts/Montserrat/Montserrat-ExtraBold.woff2" as="font" crossorigin="anonymous">
    <link rel="stylesheet" href="/assets/css/fonts.min.css?v=64223515">
    <link rel="stylesheet" href="/assets/css/basic.min.css?v=64223515">
    <link rel="stylesheet" href="/assets/css/extra.min.css?v=64223515">
    <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
    <script defer src="/assets/js/scripts.min.js?v=64223515"></script>
</head>
<body class="Site">
<!--if lt IE 8
p.error-browser
    | Ваш браузер&nbsp;
    em устарел!&nbsp;
    a(href="http://browsehappy.com/") Выберите новую версию
        +s
        | браузера здесь&nbsp;
    | для правильного отображения сайта.
-->
<header sec:authorize="!isAuthenticated()" th:replace="~{fragments/header_fragment :: headFragment}"></header>
<header sec:authorize="isAuthenticated()" th:replace="~{fragments/header_auth_fragment :: headFragment}"></header>
<div class="Middle">
    <div class="wrap">
        <main class="Middle-main">
            <div class="Section">
                <div class="Section-header">
                    <h2 class="Section-title">Рекомендуемое
                    </h2>
                </div>
                <div class="Slider Slider_carousel">
                    <div class="Slider-box Cards" data-load="recommended" data-loadoffset="0" data-loadlimit="6">
                        <th:block th:replace="~{fragments/books_list :: bookListCarousel(${recommendedBooks})}"/>
                    </div>
                    <div class="Slider-navigateWrap">
                        <div class="Slider-navigate">
                        </div>
                    </div>
                    <div class="Slider-load">
                        <div class="Slider-load-text">Идет загрузка данных
                        </div>
                    </div>
                </div>
                <div class="Section-header">
                    <h2 class="Section-title">Новинки
                    </h2>
                </div>
                <div class="Slider Slider_carousel">
                    <div class="Slider-box Cards" data-load="recent" data-loadoffset="0" data-loadlimit="6">
                        <th:block th:replace="~{fragments/books_list :: bookListCarousel(${recentBooks})}"/>
                    </div>
                    <div class="Slider-navigateWrap">
                        <div class="Slider-navigate">
                        </div>
                    </div>
                    <div class="Slider-load">
                        <div class="Slider-load-text">Идет загрузка данных
                        </div>
                    </div>
                </div>
                <div class="Section-header">
                    <h2 class="Section-title">Популярное
                    </h2>
                </div>
                <div class="Slider Slider_carousel">
                    <div class="Slider-box Cards" data-load="popular" data-loadoffset="0" data-loadlimit="6">
                        <th:block th:replace="~{fragments/books_list :: bookListCarousel(${popularBooks})}"/>
                    </div>
                    <div class="Slider-navigateWrap">
                        <div class="Slider-navigate">
                        </div>
                    </div>
                    <div class="Slider-load">
                        <div class="Slider-load-text">Идет загрузка данных
                        </div>
                    </div>
                </div>
            </div>
            <h2 class="Middle-title">Книги по тегам
            </h2>
            <div class="Tags" id="tags">
                <th:block th:each="tag : ${tags}">
                    <div class="Tag Tag_xs" th:with="factor = ${maxBooksByTag / 5}"
                         th:class="${tag.value <= factor ? 'Tag Tag_xs' : (tag.value <= factor * 2 ? 'Tag Tag_sm' : (tag.value <= factor * 3 ? 'Tag' : (tag.value <= factor * 4 ? 'Tag Tag_md' : 'Tag Tag_lg')))}">
                        <a href="/tags/index.html" th:href="@{/tags(tag=${tag.key.id})}" th:text="${tag.key.name}">современная
                            литература</a>
                        <!--                        th:href="@{/bookshop/authors/slug(id=${author.id})}"-->
                    </div>
                </th:block>
            </div>
        </main>
    </div>
</div>
<footer th:replace="~{fragments/footer_fragment :: footFragment}"></footer>
<script src="/assets/plg/jQuery/jquery-3.5.1.min.js"></script>
<!--+menu(-->
<!--    'Это раз',-->
<!--    'Это два',-->
<!--    'Это три'-->
<!--)-->
<!--br-->
<!--br-->
<!--+menu._vt-->
<!--    +menuItem Это раз-->
<!--    +menuItem.-item_danger Это два-->
<!--    +menuItem Это три-->
</body>
</html>